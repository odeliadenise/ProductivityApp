# Cloudflare Wrangler configuration for deployment

name = "productivity-app"
main = "server/index.js"
compatibility_date = "2023-11-27"

[env.production]
name = "productivity-app"

[[env.production.vars]]
NODE_ENV = "production"

[build]
command = "npm run build:production"
cwd = ""
watch_dir = "src"

[site]
bucket = "./dist"
entry_point = "workers-site"

# For Cloudflare Pages deployment
[pages]
build_command = "npm run build"
build_output_directory = "dist"

# Environment variables that will be set in Cloudflare dashboard
# JWT_SECRET = "your-production-jwt-secret"
# VITE_API_URL = "https://your-api.your-domain.com/api"
# EMAIL_SERVICE = "gmail"
# EMAIL_USER = "your-email@gmail.com"
# EMAIL_PASS = "your-app-password"